webpackJsonp([3],{2283:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i,l,o,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),u=B(d),c=B(a(4)),f=a(23),p=B(a(22)),m=a(25),g=a(19),h=B(a(8)),y=a(274),T=B(y),b=B(a(2305)),w=B(a(488)),v=B(a(2306)),E=B(a(2308)),x=B(a(2311)),R=B(a(2310)),M=B(a(2312)),O=B(a(40)),C=B(a(182)),S=B(a(83)),k=a(26),_=a(275),W=a(2292),A=a(49),j=B(a(478));function B(e){return e&&e.__esModule?e:{default:e}}var I=(0,g.defineMessages)({returnRate:{id:"withdrawDetail.returnRate",defaultMessage:"Return rate:"},youBetYouVote:{id:"withdrawDetail.youBetYouVote",defaultMessage:"You bet {qtum} QTUM. You voted {bot} BOT."},totalBetTotalVote:{id:"withdrawDetail.totalBetTotalVote",defaultMessage:"Total bet amount {qtum} QTUM. Total voted amount {bot} BOT."}}),P=(n=(0,m.withStyles)(b.default,{withTheme:!0}),r=(0,f.connect)(function(e){return{syncBlockTime:e.App.get("syncBlockTime"),walletAddresses:e.App.get("walletAddresses"),walletEncrypted:e.App.get("walletEncrypted"),walletUnlockedUntil:e.App.get("walletUnlockedUntil"),getTopicsReturn:e.Graphql.get("getTopicsReturn"),getTransactionsReturn:e.Graphql.get("getTransactionsReturn"),txReturn:e.Graphql.get("txReturn"),betBalances:e.Topic.get("betBalances"),voteBalances:e.Topic.get("voteBalances"),escrowClaim:e.Topic.get("escrowClaim"),botWinnings:e.Topic.get("botWinnings"),qtumWinnings:e.Topic.get("qtumWinnings"),withdrawableAddresses:e.Topic.get("withdrawableAddresses")}},function(e){return{getBetAndVoteBalances:function(t,a){return e(C.default.getBetAndVoteBalances(t,a))},getWithdrawableAddresses:function(t,a){return e(C.default.getWithdrawableAddresses(t,a))},getTopics:function(t,a,n,r){return e(S.default.getTopics(t,a,n,r))},getTransactions:function(t,a){return e(S.default.getTransactions(t,a))},createWithdrawTx:function(t,a,n,r){return e(S.default.createWithdrawTx(t,a,n,r))},clearTxReturn:function(){return e(S.default.clearTxReturn())},toggleWalletUnlockDialog:function(t){return e(O.default.toggleWalletUnlockDialog(t))},setLastUsedAddress:function(t){return e(O.default.setLastUsedAddress(t))}}}),(0,g.injectIntl)(i=n(i=r((o=l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderWithdrawList=function(){var e=a.props.withdrawableAddresses;return e.length>0?u.default.createElement(T.default,null,u.default.createElement(y.TableHead,null,u.default.createElement(y.TableRow,null,u.default.createElement(y.TableCell,{padding:"dense"},u.default.createElement(g.FormattedMessage,{id:"str.address",defaultMessage:"Address"})),u.default.createElement(y.TableCell,{padding:"dense"},u.default.createElement(g.FormattedMessage,{id:"str.type",defaultMessage:"Type"})),u.default.createElement(y.TableCell,{padding:"dense"},u.default.createElement(g.FormattedMessage,{id:"str.amount",defaultMessage:"Amount"})),u.default.createElement(y.TableCell,{padding:"dense"},u.default.createElement(g.FormattedMessage,{id:"str.actions",defaultMessage:"Actions"})))),u.default.createElement(y.TableBody,null,p.default.map(e,function(e,t){return a.renderWinningWithdrawRow(e,t)}))):null},a.renderWinningWithdrawRow=function(e,t){var n=a.getActionButtonConfig(e),r=n.id,i=n.message,l=n.warningTypeClass,o=n.disabled;if(!n.show)return null;var s=e.botWon?e.botWon+" "+k.Token.Bot:"",d=e.qtumWon?e.qtumWon+" "+k.Token.Qtum:"";return u.default.createElement(y.TableRow,{key:t},u.default.createElement(y.TableCell,{padding:"dense"},u.default.createElement("div",null,e.address),r&&i&&u.default.createElement(w.default,{id:r,message:i,className:l})),u.default.createElement(y.TableCell,{padding:"dense"},a.getLocalizedTypeString(e.type)),u.default.createElement(y.TableCell,{padding:"dense"},s+(p.default.isEmpty(s)||p.default.isEmpty(d)?"":", ")+d),u.default.createElement(y.TableCell,{padding:"dense"},u.default.createElement(m.Button,{size:"small",variant:"raised",color:"primary",disabled:o,"data-address":e.address,"data-type":e.type,onClick:a.onWithdrawClicked},u.default.createElement(g.FormattedMessage,{id:"str.withdraw",defaultMessage:"Withdraw"}))))},a.getLocalizedTypeString=function(e){switch(e){case k.TransactionType.WithdrawEscrow:return u.default.createElement(g.FormattedMessage,{id:"str.escrow",defaultMessage:"Escrow"},function(e){return(0,_.i18nToUpperCase)(e)});case k.TransactionType.Withdraw:return u.default.createElement(g.FormattedMessage,{id:"str.winnings",defaultMessage:"Winnings"},function(e){return(0,_.i18nToUpperCase)(e)});default:return""}},a.fetchData=function(){var e=a.props,t=e.getTopics,n=e.getTransactions,r=e.getBetAndVoteBalances,i=e.getWithdrawableAddresses,l=e.walletAddresses,o=a.state.address;t([{address:o}],void 0,1,0),n([{topicAddress:o}],{field:"createdTime",direction:k.SortBy.Descending}),r(o,l),i(o,l)},a.getActionButtonConfig=function(e){var t=a.props,n=t.getTransactionsReturn,r=t.withdrawableAddresses,i=t.classes,l=a.state.address,o=p.default.filter(n,{type:e.type,status:k.TransactionStatus.Pending,topicAddress:l,senderAddress:e.address});return o.length>0?{show:!0,disabled:!0,id:"str.pendingTransactionDisabledMsg",message:"You have a pending transaction for this event. Please wait until it's confirmed before doing another transaction.",warningTypeClass:i.pending}:(o=p.default.filter(n,{type:e.type,status:k.TransactionStatus.Success,topicAddress:l,senderAddress:e.address})).length>0?{show:!0,disabled:!0,id:"withdrawDetail.alreadyWithdrawn",message:"You have already withdrawn with this address.",warningTypeClass:i.withdrawn}:p.default.find(r,{type:e.type,address:e.address})?{show:!0,disabled:!1}:{show:!0,disabled:!0}},a.state={address:a.props.match.params.address,topic:void 0},a.onWithdrawClicked=a.onWithdrawClicked.bind(a),a.getEventInfoObjs=a.getEventInfoObjs.bind(a),a.renderWithdrawContainer=a.renderWithdrawContainer.bind(a),a.renderOptions=a.renderOptions.bind(a),a.onAddressChange=a.onAddressChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),s(t,[{key:"componentWillMount",value:function(){this.fetchData()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.syncBlockTime,n=t.getTopicsReturn,r=t.txReturn,i=this.state.address;(e.syncBlockTime!==a||r&&!e.txReturn)&&this.fetchData();var l=e.getTopicsReturn?e.getTopicsReturn:n,o=p.default.find(l,{address:i});o&&o.status===k.OracleStatus.Withdraw&&this.setState({topic:o})}},{key:"componentWillUnmount",value:function(){this.props.clearTxReturn()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.syncBlockTime,n=e.getTransactionsReturn,r=e.withdrawableAddresses,i=this.state.topic;if(!i||!r)return null;var l=p.default.find(i.oracles,function(e){return e.token===k.Token.Qtum}),o=p.default.orderBy(p.default.filter(i.oracles,function(e){return e.token===k.Token.Bot}),["blockNum"],[k.SortBy.Ascending.toLowerCase()]);return u.default.createElement("div",null,u.default.createElement(M.default,null),u.default.createElement(m.Paper,{className:t.eventDetailPaper},u.default.createElement(m.Grid,{container:!0,spacing:0},u.default.createElement(m.Grid,{item:!0,xs:12,md:8,className:t.eventDetailContainerGrid},u.default.createElement(m.Typography,{variant:"display1",className:t.eventDetailTitle},i.name),u.default.createElement(m.Grid,{item:!0,xs:12},this.renderWithdrawContainer(),this.renderOptions(),u.default.createElement(R.default,{oracles:i.oracles}),u.default.createElement(x.default,{transactions:n,options:i.options}))),u.default.createElement(m.Grid,{item:!0,xs:12,md:4,className:(0,h.default)(t.eventDetailContainerGrid,"right")},u.default.createElement(E.default,{infoObjs:this.getEventInfoObjs(),className:t.eventDetailInfo}),u.default.createElement(v.default,{blockTime:a,cOracle:l,dOracles:o,isTopicDetail:!0})))))}},{key:"renderWithdrawContainer",value:function(){var e=this.props,t=e.intl,a=e.classes,n=e.betBalances,r=e.voteBalances,i=e.escrowClaim,l=e.botWinnings,o=e.qtumWinnings,s=this.state.topic,d=n[s.resultIdx],c=r[s.resultIdx],f=p.default.sum(n),y=p.default.sum(r),T=f?(o-f)/f*100:0,b=y?(l-y)/y*100:0,w=(0,W.localizeInvalidOption)(s.options[s.resultIdx],t);return u.default.createElement(m.Paper,{className:a.withdrawPaper},u.default.createElement("div",{className:(0,h.default)(a.withdrawContainerSection,l||o?"":"last")},u.default.createElement("div",{className:a.withdrawContainerSectionIcon},u.default.createElement("i",{className:"icon iconfont icon-ic_reward"})),u.default.createElement(m.Typography,{variant:"body2",className:a.withdrawContainerSectionLabel},u.default.createElement(g.FormattedMessage,{id:"str.winningOutcome",defaultMessage:"Wining Outcome"},function(e){return(0,_.i18nToUpperCase)(e)})),u.default.createElement(m.Typography,{className:a.withdrawWinningOption},"Invalid"===s.options[s.resultIdx]?w:s.options[s.resultIdx]),f||y?u.default.createElement(m.Typography,{variant:"caption"},t.formatMessage(I.youBetYouVote,{qtum:d,bot:c})):u.default.createElement(m.Typography,{variant:"caption"},u.default.createElement(g.FormattedMessage,{id:"topic.didNotBetOrVote",defaultMessage:"You did not bet or vote on the winning outcome."}))),Boolean(i||l||o)&&u.default.createElement("div",null,u.default.createElement("div",{className:a.withdrawContainerSection},u.default.createElement("div",{className:a.withdrawContainerSectionIcon},u.default.createElement("i",{className:"icon iconfont icon-ic_token"})),u.default.createElement(m.Typography,{variant:"body2",className:a.withdrawContainerSectionLabel},u.default.createElement(g.FormattedMessage,{id:"withdrawDetail.reward",defaultMessage:"REWARD"},function(e){return(0,_.i18nToUpperCase)(e)})),u.default.createElement("div",null,u.default.createElement("div",{className:a.withdrawRewardWrapper},u.default.createElement(m.Typography,{variant:"display1"},"+",o," ",u.default.createElement("span",{className:a.withdrawToken},"QTUM")),u.default.createElement(m.Typography,{variant:"caption"},t.formatMessage(I.returnRate)+" "+T.toFixed(2)+"%")),u.default.createElement("div",{className:a.withdrawRewardDivider}),u.default.createElement("div",{className:a.withdrawRewardWrapper},u.default.createElement(m.Typography,{variant:"display1"},"+",l," ",u.default.createElement("span",{className:a.withdrawToken},"BOT")),u.default.createElement(m.Typography,{variant:"caption"},t.formatMessage(I.returnRate)+" "+b.toFixed(2)+"%")))),u.default.createElement("div",{className:(0,h.default)(a.withdrawContainerSection,"last")},u.default.createElement("div",{className:a.withdrawContainerSectionIcon},u.default.createElement("i",{className:"icon iconfont icon-ic_wallet"})),u.default.createElement(m.Typography,{variant:"body2",className:a.withdrawContainerSectionLabel},u.default.createElement(g.FormattedMessage,{id:"withdrawDetail.withdrawTo",defaultMessage:"WITHDRAW TO"},function(e){return(0,_.i18nToUpperCase)(e)}))),this.renderWithdrawList()))}},{key:"renderOptions",value:function(){var e=this.props,t=e.intl,a=e.classes,n=e.betBalances,r=e.voteBalances,i=this.state.topic;return u.default.createElement("div",{className:a.withdrawOptionsWrapper},p.default.map(i.options,function(e,l){return u.default.createElement("div",{key:"option-"+l,className:(0,h.default)(a.withdrawContainerSection,"option")},u.default.createElement("div",{className:a.eventOptionNum},l+1),u.default.createElement(m.Typography,{variant:"title",className:i.resultIdx===l?a.withdrawWinningOptionSmall:""},e),u.default.createElement("div",null,u.default.createElement(m.Typography,{variant:"caption"},t.formatMessage(I.totalBetTotalVote,{qtum:i.qtumAmount[l],bot:i.botAmount[l]}))),!(!n[l]&&!r[l])&&u.default.createElement("div",null,u.default.createElement(m.Typography,{variant:"caption"},t.formatMessage(I.youBetYouVote,{qtum:n[l],bot:r[l]}))))}))}},{key:"getEventInfoObjs",value:function(){var e=this.state.topic;if(p.default.isEmpty(e))return[];var t=p.default.sum(e.qtumAmount),a=p.default.sum(e.botAmount),n=void 0;return p.default.map(e.oracles,function(e){var t=e.resultSetterQAddress;t&&(n=t)}),[{label:u.default.createElement(g.FormattedMessage,{id:"eventInfo.predictionFund",defaultMessage:"Prediction Fund"},function(e){return(0,_.i18nToUpperCase)(e)}),content:t+" QTUM"},{label:u.default.createElement(g.FormattedMessage,{id:"eventInfo.voteVolumn",defaultMessage:"Votting Volume"},function(e){return(0,_.i18nToUpperCase)(e)}),content:a+" BOT"},{label:u.default.createElement(g.FormattedMessage,{id:"str.resultSetter",defaultMessage:"Result Setter"},function(e){return(0,_.i18nToUpperCase)(e)}),content:n}]}},{key:"onAddressChange",value:function(e){this.props.setLastUsedAddress(e.target.value)}},{key:"onWithdrawClicked",value:function(e){var t=this.props,a=t.createWithdrawTx,n=t.walletEncrypted,r=t.walletUnlockedUntil,i=t.toggleWalletUnlockDialog,l=this.state.topic,o=e.currentTarget.getAttribute("data-address"),s=e.currentTarget.getAttribute("data-type");(0,A.doesUserNeedToUnlockWallet)(n,r)?i(!0):(a(s,l.version,l.address,o),j.default.track("topicDetail-withdraw"))}}]),t}(),l.propTypes={match:c.default.object.isRequired,classes:c.default.object.isRequired,intl:g.intlShape.isRequired,getTopics:c.default.func.isRequired,getTopicsReturn:c.default.array,getTransactions:c.default.func.isRequired,getTransactionsReturn:c.default.array,getBetAndVoteBalances:c.default.func.isRequired,betBalances:c.default.array,voteBalances:c.default.array,getWithdrawableAddresses:c.default.func.isRequired,escrowClaim:c.default.number,botWinnings:c.default.number,qtumWinnings:c.default.number,withdrawableAddresses:c.default.array,createWithdrawTx:c.default.func.isRequired,txReturn:c.default.object,clearTxReturn:c.default.func.isRequired,syncBlockTime:c.default.number,walletEncrypted:c.default.bool.isRequired,walletUnlockedUntil:c.default.number.isRequired,toggleWalletUnlockDialog:c.default.func.isRequired,walletAddresses:c.default.array.isRequired,setLastUsedAddress:c.default.func.isRequired},l.defaultProps={syncBlockTime:void 0,getTopicsReturn:[],getTransactionsReturn:[],txReturn:void 0,betBalances:[],voteBalances:[],withdrawableAddresses:void 0,escrowClaim:void 0,botWinnings:void 0,qtumWinnings:void 0},i=o))||i)||i)||i);t.default=P},2285:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return{txidLabel:{width:"150px"},txidRow:{position:"relative",height:"85px"},txidWrapper:{position:"absolute",left:"24px",top:"4px",bottom:"4px",right:"24px",paddingTop:"18px"},txIdText:{"&:hover":{color:"#585AFA",cursor:"pointer"},textDecoration:"underline"}}}},2292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeInvalidOption=function(e,t){var a="Invalid";"Invalid"===e&&(t.locale.startsWith("zh")?a="无效":t.locale.startsWith("ko")&&(a="무효의"));return a}},2293:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(0)),r=d(a(4)),i=a(25),l=a(19),o=d(a(2285)),s=d(a(134));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.classes,a=e.transaction;return n.default.createElement(i.TableCell,{padding:"dense",className:t.txidRow},n.default.createElement("div",{className:t.txidWrapper},n.default.createElement("div",{className:t.txidLabel},n.default.createElement(l.FormattedMessage,{id:"str.transactionId",defaultMessage:"Transaction ID"})),n.default.createElement("div",{className:t.txIdText,onClick:function(e){e.stopPropagation(),window.open(s.default.explorer.tx+"/"+a.txid,"_blank")}},a.txid)))};u.propTypes={classes:r.default.object.isRequired,transaction:r.default.object.isRequired},t.default=(0,l.injectIntl)((0,i.withStyles)(o.default,{withTheme:!0})(u))},2294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(0)),r=d(a(4)),i=a(274),l=a(19),o=a(30),s=d(a(2285));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.classes,a=e.transaction;return n.default.createElement(i.TableCell,{padding:"dense",className:t.txidRow},n.default.createElement("div",{className:t.txidWrapper},n.default.createElement("div",{className:t.txidLabel},n.default.createElement(l.FormattedMessage,{id:"str.addressUsed",defaultMessage:"Address Used"})),n.default.createElement("div",null,a.senderAddress)))};u.propTypes={classes:r.default.object.isRequired,transaction:r.default.object.isRequired},t.default=(0,l.injectIntl)((0,o.withStyles)(s.default,{withTheme:!0})(u))},2302:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{detailTxWrapper:{marginTop:e.padding.md.px},detailTxTitle:{marginBottom:e.padding.xs.px}}}},2303:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTxTypeString=function(e,t,a){var n=(0,r.getIntlProvider)(t,a).formatMessage;switch(e){case i.TransactionType.ApproveCreateEvent:case i.TransactionType.ApproveSetResult:case i.TransactionType.ApproveVote:return n(l.approveBotTransfer);case i.TransactionType.CreateEvent:return n(l.createEvent);case i.TransactionType.Bet:return n(l.bet);case i.TransactionType.SetResult:return n(l.setResult);case i.TransactionType.Vote:return n(l.vote);case i.TransactionType.FinalizeResult:return n(l.finalizeResult);case i.TransactionType.Withdraw:return n(l.withdraw);case i.TransactionType.WithdrawEscrow:return n(l.withdrawEscrow);case i.TransactionType.Transfer:return n(l.transfer);case i.TransactionType.ResetApprove:return n(l.resetApproval);default:return console.error("Invalid txType: "+e),""}};var n=a(19),r=a(275),i=a(26),l=(0,n.defineMessages)({resetApproval:{id:"tx.resetApproval",defaultMessage:"Reset Approval"},approveBotTransfer:{id:"tx.approveBotTransfer",defaultMessage:"Approve BOT Transfer"},createEvent:{id:"str.createEvent",defaultMessage:"Create Event"},bet:{id:"str.bet",defaultMessage:"Bet"},setResult:{id:"str.setResult",defaultMessage:"Set Result"},vote:{id:"str.vote",defaultMessage:"Vote"},finalizeResult:{id:"str.finalizeResult",defaultMessage:"Finalize Result"},withdraw:{id:"str.withdraw",defaultMessage:"Withdraw"},withdrawEscrow:{id:"str.withdrawEscrow",defaultMessage:"Withdraw Escrow"},transfer:{id:"str.transfer",defaultMessage:"Transfer"}})},2305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{importantNoteContainer:{margin:e.padding.xs.px+" "+e.padding.xs.px+" 0px "+e.padding.xs.px},eventDetailPaper:{boxShadow:"none",borderRadius:e.borderRadius},eventDetailContainerGrid:{padding:e.padding.lg.px,overflowX:"hidden","&.right":{borderLeft:e.border,textAlign:"right"}},withdrawOptionsWrapper:{padding:e.padding.md.px},withdrawContainerSection:{width:"100%",display:"block",position:"relative",paddingLeft:e.padding.md.px,marginBottom:e.padding.md.px,"&.last":{margin:0},"&.option":{marginBottom:e.padding.sm.px}},withdrawContainerSectionLabel:{marginBottom:e.padding.xs.px},withdrawContainerSectionIcon:{height:e.sizes.icon,width:e.sizes.icon,lineHeight:1,fontSize:e.sizes.icon,color:e.palette.text.primary,position:"absolute",left:0,top:"-7px"},withdrawToken:{fontSize:e.sizes.font.textSm,fontWeight:e.typography.fontWeightBold},withdrawRewardWrapper:{display:"inline-block",marginBottom:e.padding.unit.px},withdrawRewardDivider:{display:"inline-block",width:"1px",height:"75px",background:e.palette.divider,marginLeft:e.padding.md.px,marginRight:e.padding.md.px},eventDetailTitle:{marginBottom:e.padding.md.px},eventActionButton:{marginTop:e.padding.md.px,backgroundColor:e.palette.primary.main+" !important",color:"white !important"},withdrawPaper:{padding:e.padding.md.px},eventOptionNum:{background:e.palette.background.grey,height:e.sizes.icon,width:e.sizes.icon,lineHeight:e.sizes.icon,borderRadius:e.sizes.icon,overflow:"hidden",textAlign:"center",fontSize:e.sizes.font.meta,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary,position:"absolute",left:0,top:0},withdrawWinningOption:{color:e.palette.primary.main,fontSize:e.sizes.font.titleSm,fontWeight:e.typography.fontWeightBold,marginBottom:e.padding.unit.px},withdrawWinningOptionSmall:{color:e.palette.primary.main},eventUnconfirmedText:{marginTop:e.padding.sm.px},pending:{color:e.palette.secondary.main},withdrawn:{color:e.palette.primary.main}}}},2306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i,l,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),d=b(s),u=b(a(4)),c=a(482),f=b(c),p=b(a(31)),m=a(30),g=a(19),h=b(a(22)),y=b(a(2307)),T=a(49);function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=0,E=1,x=2,R=3,M=(0,g.defineMessages)({block:{id:"str.block",defaultMessage:"Block"},to:{id:"cardInfo.to",defaultMessage:"To"},anytime:{id:"str.anytime",defaultMessage:"anytime"}}),O=(n=(0,m.withStyles)(y.default,{withTheme:!0}),(0,g.injectIntl)(r=n((l=i=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.getSteps=function(){var e=n.props,t=e.intl.formatMessage,a=e.blockTime,r=e.cOracle,i=e.dOracles,l=e.isTopicDetail,o=t(M.to),s=t(M.anytime),u=[{title:d.default.createElement(g.FormattedMessage,{id:"cardInfo.topic",defaultMessage:"Topic Created"}),description:t(M.block)+": "+(r.blockNum||"")},{title:d.default.createElement(g.FormattedMessage,{id:"str.betting",defaultMessage:"Betting"}),description:(0,T.getShortLocalDateTimeString)(r.startTime)+"\n        "+o+" "+(0,T.getShortLocalDateTimeString)(r.endTime)},{title:d.default.createElement(g.FormattedMessage,{id:"cardInfo.orResultSet",defaultMessage:"Oracle Result Setting"}),description:(0,T.getShortLocalDateTimeString)(r.resultSetStartTime)+"\n        "+o+" "+(0,T.getShortLocalDateTimeString)(r.resultSetEndTime)}],c=void 0;if(h.default.isEmpty(i))u.push({title:d.default.createElement(g.FormattedMessage,{id:"cardInfo.opResultSet",defaultMessage:"Open Result Setting"}),description:(0,T.getShortLocalDateTimeString)(r.resultSetEndTime)+" "+o+" "+s}),c=a<r.startTime?v:a>=r.startTime&&a<r.resultSetStartTime?E:a>=r.resultSetStartTime&&a<r.resultSetEndTime?x:a>=r.resultSetEndTime?R:null;else{h.default.each(i,function(e){u.push({title:d.default.createElement(g.FormattedMessage,{id:"cardInfo.arbitration",defaultMessage:"Arbitration"}),description:(0,T.getShortLocalDateTimeString)(e.startTime)+"\n            "+o+" "+(0,T.getShortLocalDateTimeString)(e.endTime)})});var f=i.length,p=i[i.length-1];l?(u.push({title:d.default.createElement(g.FormattedMessage,{id:"cardInfo.withdraw",defaultMessage:"Withdraw"}),description:(0,T.getShortLocalDateTimeString)(p.endTime)+" "+o+" "+s}),c=a>=p.endTime?x+f+1:null):(u.push({title:d.default.createElement(g.FormattedMessage,{id:"cardInfo.final",defaultMessage:"Finalizing"}),description:(0,T.getShortLocalDateTimeString)(p.endTime)+" "+o+" "+s}),c=a>=p.startTime&&a<p.endTime?x+f:a>=p.endTime?x+f+1:null)}return{current:c,value:u}},w(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.blockTime,n=e.cOracle;if(!a&&!n)return null;var r=this.getSteps();return d.default.createElement(f.default,{activeStep:r.current,orientation:"vertical",className:t.stepperVertRightWrapper},r.value.map(function(e){return d.default.createElement(c.Step,{key:e.title},d.default.createElement(c.StepLabel,{className:t.stepperVertRightLabel},d.default.createElement(p.default,{variant:"title"},e.title),d.default.createElement(p.default,{variant:"caption"},e.description)))}))}}]),t}(),i.propTypes={intl:g.intlShape.isRequired,classes:u.default.object.isRequired,blockTime:u.default.number.isRequired,cOracle:u.default.object,dOracles:u.default.array.isRequired,isTopicDetail:u.default.bool.isRequired},i.defaultProps={cOracle:{}},r=l))||r)||r);t.default=O},2307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{stepperVertRightWrapper:{position:"relative",left:"100%",background:"transparent",marginLeft:"-".concat(e.padding.md.px)},stepperVertRightLabel:{"& > span:last-of-type":{position:"relative",right:"100%",paddingRight:e.padding.unit.px},"& > span:last-of-type > span > span":{marginTop:"2px"}}}}},2308:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i,l,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),d=y(s),u=y(a(4)),c=y(a(22)),f=a(19),p=y(a(107)),m=y(a(31)),g=a(30),h=y(a(2309));function y(e){return e&&e.__esModule?e:{default:e}}var T=(n=(0,g.withStyles)(h.default,{withTheme:!0}),(0,f.injectIntl)(r=n((l=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.infoObjs;return a&&0!==a.length?d.default.createElement("div",{className:t.eventInfoWrapper},c.default.map(a,function(e,a){var n=e.label,r=e.highlight,i=e.content;return n&&i&&d.default.createElement(p.default,{key:"info"+a,item:!0,xs:6,md:12,className:t.eventInfoBlock},d.default.createElement(m.default,{variant:"body1"},n),d.default.createElement(m.default,{variant:"title",className:t.eventInfo},i),r&&d.default.createElement(m.default,{variant:"body2",color:"secondary"},r))})):null}}]),t}(),i.propTypes={classes:u.default.object.isRequired,infoObjs:u.default.array.isRequired},r=l))||r)||r);t.default=T},2309:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{eventInfoWrapper:{paddingBottom:e.padding.md.px},eventInfoBlock:{marginBottom:"36px"},eventInfo:{marginTop:e.padding.unit.px,wordWrap:"break-word",paddingLeft:e.padding.md.px,fontSize:e.typography.fontSize}}}},2310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i,l,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),d=v(s),u=v(a(4)),c=v(a(22)),f=a(19),p=a(274),m=v(p),g=a(25),h=a(26),y=a(49),T=a(275),b=a(2292),w=v(a(2302));function v(e){return e&&e.__esModule?e:{default:e}}var E=(n=(0,g.withStyles)(w.default,{withTheme:!0}),(0,f.injectIntl)(r=n((l=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"getTypeText",value:function(e,t){return e.token===h.Token.Qtum?d.default.createElement(f.FormattedMessage,{id:"str.bettingRound",defaultMessage:"Betting Round"}):1===t?d.default.createElement(f.FormattedMessage,{id:"str.resultSettingRound",defaultMessage:"Result Setting Round"}):d.default.createElement(f.FormattedMessage,{id:"str.arbitrationRoundX",defaultMessage:"Arbitration Round {idx}",values:{idx:t-1}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.oracles,r=t.intl,i=c.default.orderBy(n,["endTime"]);if(i.length){var l=i[0],o=l.resultIdx,s=l.options,u=l.amounts,h=l.consensusThreshold,w=i[1],v={endTime:w.endTime,token:w.token,resultIdx:o,options:s};v.amounts=c.default.clone(u),v.amounts.fill(0),v.amounts[v.resultIdx]=h,i.splice(1,0,v)}return d.default.createElement("div",{className:a.detailTxWrapper},d.default.createElement(g.Typography,{variant:"headline",className:a.detailTxTitle},d.default.createElement(f.FormattedMessage,{id:"str.resultHistory",defaultMessage:"Result History"},function(e){return(0,T.i18nToUpperCase)(e)})),i.length?d.default.createElement(m.default,null,d.default.createElement(p.TableHead,null,d.default.createElement(p.TableRow,null,d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.date",defaultMessage:"Date"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.resultType",defaultMessage:"Result Type"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.winningOutcome",defaultMessage:"Winning Outcome"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.amount",defaultMessage:"Amount"})))),d.default.createElement(p.TableBody,null,c.default.map(i,function(t,a){var n=(0,b.localizeInvalidOption)(t.options[t.resultIdx],r);return d.default.createElement(p.TableRow,{key:"result-"+a,selected:a%2==1},d.default.createElement(p.TableCell,{padding:"dense"},(0,y.getShortLocalDateTimeString)(t.endTime)),d.default.createElement(p.TableCell,{padding:"dense"},e.getTypeText(t,a)),d.default.createElement(p.TableCell,{padding:"dense"},a!==i.length-1&&0!==a?"#"+(t.resultIdx+1)+" "+("Invalid"===t.options[t.resultIdx]?n:t.options[t.resultIdx]):""),d.default.createElement(p.TableCell,{padding:"dense"},c.default.sum(t.amounts)+" "+t.token))}))):d.default.createElement(g.Typography,{variant:"body1"},d.default.createElement(f.FormattedMessage,{id:"str.emptyTxHistory",defaultMessage:"You do not have any transactions right now."})))}}]),t}(),i.propTypes={classes:u.default.object.isRequired,oracles:u.default.array.isRequired,intl:f.intlShape.isRequired},r=l))||r)||r);t.default=E},2311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i,l,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(0),d=x(s),u=x(a(4)),c=x(a(22)),f=a(19),p=a(274),m=x(p),g=a(25),h=x(a(2302)),y=x(a(2293)),T=x(a(2294)),b=a(49),w=a(2292),v=a(2303),E=a(26);function x(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=(n=(0,g.withStyles)(h.default,{withTheme:!0}),(0,f.injectIntl)(r=n((l=i=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.renderTxRow=function(e){var t=n.props.intl,a=t.locale,r=t.messages,i=[];return i[0]=d.default.createElement(p.TableRow,{key:e.txid},d.default.createElement(p.TableCell,{padding:"dense"},(0,b.getShortLocalDateTimeString)(e.createdTime)),d.default.createElement(p.TableCell,{padding:"dense"},(0,v.getTxTypeString)(e.type,a,r)),d.default.createElement(p.TableCell,{padding:"dense"},n.getDescription(e)),d.default.createElement(p.TableCell,{padding:"dense"},e.amount?e.amount+" "+e.token:""),d.default.createElement(p.TableCell,{padding:"dense"},e.status)),i[1]=d.default.createElement(p.TableRow,{key:"txaddr-"+e.txid,selected:!0},d.default.createElement(T.default,{transaction:e}),d.default.createElement(p.TableCell,null),d.default.createElement(p.TableCell,null),d.default.createElement(p.TableCell,null),d.default.createElement(p.TableCell,null)),i[2]=d.default.createElement(p.TableRow,{key:"txid-"+e.txid,selected:!0},d.default.createElement(y.default,{transaction:e}),d.default.createElement(p.TableCell,null),d.default.createElement(p.TableCell,null),d.default.createElement(p.TableCell,null),d.default.createElement(p.TableCell,null)),i},n.getDescription=function(e){var t=e.optionIdx,a=e.topic,r=n.props.intl;switch(e.type){case E.TransactionType.Bet:case E.TransactionType.ApproveSetResult:case E.TransactionType.SetResult:case E.TransactionType.ApproveVote:case E.TransactionType.Vote:case E.TransactionType.FinalizeResult:if(t&&a){var i=(0,w.localizeInvalidOption)(e.topic.options[e.optionIdx],r);return"#"+(e.optionIdx+1)+" "+("Invalid"===e.topic.options[e.optionIdx]?i:e.topic.options[e.optionIdx])}return"";default:return}},R(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.transactions,r=t.options;return d.default.createElement("div",{className:a.detailTxWrapper},d.default.createElement(g.Typography,{variant:"headline",className:a.detailTxTitle},d.default.createElement(f.FormattedMessage,{id:"str.transaction",defaultMessage:"TRANSACTIONS"})),n.length&&r.length?d.default.createElement(m.default,null,d.default.createElement(p.TableHead,null,d.default.createElement(p.TableRow,null,d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.date",defaultMessage:"Date"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.type",defaultMessage:"Type"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.description",defaultMessage:"Description"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.amount",defaultMessage:"Amount"})),d.default.createElement(p.TableCell,{padding:"dense"},d.default.createElement(f.FormattedMessage,{id:"str.status",defaultMessage:"Status"})))),d.default.createElement(p.TableBody,null,c.default.map(n,function(t,a){return e.renderTxRow(t,a)}))):d.default.createElement(g.Typography,{variant:"body1"},d.default.createElement(f.FormattedMessage,{id:"str.emptyTxHistory",defaultMessage:"You do not have any transactions right now."})))}}]),t}(),i.propTypes={intl:f.intlShape.isRequired,classes:u.default.object.isRequired,transactions:u.default.array.isRequired,options:u.default.array.isRequired},r=l))||r)||r);t.default=M},2312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i,l,o,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),u=w(d),c=w(a(4)),f=a(82),p=a(108),m=a(30),g=w(a(64)),h=w(a(484)),y=a(19),T=w(a(2313)),b=a(26);function w(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=(n=(0,m.withStyles)(T.default,{withTheme:!0}),r=(0,f.inject)("store"),(0,p.withRouter)(i=(0,y.injectIntl)(i=n(i=r(i=(0,f.observer)((o=l=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return a=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onBackClick=function(){var e=n.props,t=e.history;switch(e.store.ui.location){case b.AppLocation.activityHistory:t.push(b.RouterPath.activityHistory);break;case b.AppLocation.allEvents:t.push(b.RouterPath.allEvents);break;case b.AppLocation.qtumPrediction:case b.AppLocation.bet:t.push(b.RouterPath.qtumPrediction);break;case b.AppLocation.vote:t.push(b.RouterPath.botCourt);break;case b.AppLocation.resultSet:t.push(b.RouterPath.set);break;case b.AppLocation.finalize:t.push(b.RouterPath.finalize);break;case b.AppLocation.withdraw:t.push(b.RouterPath.withdraw);break;default:t.push(b.RouterPath.qtumPrediction)}},v(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),s(t,[{key:"render",value:function(){var e=this.props.classes;return u.default.createElement(g.default,{variant:"raised",size:"small",className:e.button,onClick:this.onBackClick},u.default.createElement(h.default,null),u.default.createElement(y.FormattedMessage,{id:"str.back",defaultMessage:"Back"}))}}]),t}(),l.propTypes={classes:c.default.object.isRequired,history:c.default.object.isRequired},i=o))||i)||i)||i)||i)||i);t.default=E},2313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{button:{marginBottom:e.padding.xs.px,padding:e.padding.unit.px+" "+e.padding.sm.px+" "+e.padding.unit.px+" "+e.padding.xs.px}}}}});